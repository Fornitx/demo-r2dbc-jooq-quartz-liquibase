spring:
  r2dbc:
    url: r2dbc:postgresql://localhost:${POSTGRES_PORT}/${POSTGRES_DATABASE}?schema=${POSTGRES_SCHEMA}
    username: ${POSTGRES_USERNAME}
    password: ${POSTGRES_PASSWORD}
    pool:
      enabled: true
      initial-size: 3
      max-size: 9
  liquibase:
    enabled: true
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://localhost:${POSTGRES_PORT}/${POSTGRES_DATABASE}?currentSchema=${POSTGRES_SCHEMA}
    user: ${POSTGRES_USERNAME}
    password: ${POSTGRES_PASSWORD}
    change-log: "file:../etc/db/changelog/changelog-master.xml"
    default-schema: ${POSTGRES_SCHEMA}
  jooq:
    sql-dialect: postgres
  quartz:
    auto-startup: false
    job-store-type: jdbc
    jdbc:
      initialize-schema: always
#      schema: classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql
#      schema: ${POSTGRES_SCHEMA}
    overwrite-existing-jobs: false
    properties:
      org:
        quartz:
          dataSource:
            quartzDataSource:
              driver: org.postgresql.Driver
              URL: jdbc:postgresql://localhost:${POSTGRES_PORT}/${POSTGRES_DATABASE}?currentSchema=${POSTGRES_SCHEMA}
              user: ${POSTGRES_USERNAME}
              password: ${POSTGRES_PASSWORD}
              maxConnections: 1
              provider: hikaricp
          jobStore:
            class: org.quartz.impl.jdbcjobstore.JobStoreTX
            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate
            isClustered: true
            dataSource: quartzDataSource
          scheduler:
            instanceId: AUTO
            instanceName: Demo
          threadPool:
            threadCount: 1
